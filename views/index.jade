extends layout

block content
  div(ng-controller='HomeCtrl')
    div.navbar.navbar-inverse.navbar-fixed-top
      .navbar-inner
        .container
          a.brand BajarMusica.me
          .nav
            form.navbar-search.pull-left(ng:submit='doSearch()')
              input.search-query(type='text', ng-model='query', placeholder='Introduce tu busqueda')
              button.submit.btn-primary(type='submit') Buscar
    .container-fluid
      .row-fluid
        #player.span5(ng-class="{'hide' : !playlist.length, 'show' : playlist.length}")
          audio(data-player-control="player", data-playlist="playlist", audio-player)
          .well.sidebar-nav.left-play
            .controls 
              a
                i.icon-step-backward.icon-2x(ng-click="player.prev(true)")
              a
                i(ng-class="{'icon-pause icon-2x': player.playing, 'icon-play icon-2x': !player.playing }", ng-click="player.playPause()")
              a
                i.icon-step-forward.icon-2x(ng-click="player.next(true)")
            div.playlist
              table
                tbody.nav.nav-list(ui-sortable, ng-model='playlist')
                  tr(ng-repeat='play in playlist')
                    td
                      a(ng-click="player.playPause($index)") {{$index+1}}.  {{play.title|truncate:50}}
                    td
                      a(ng-click="removeFromPlaylist($index)")
                        i.icon-remove.icon-2x
        div(ng-view, ng-class="{'span12' : !playlist.length, 'span7': playlist.length}")


